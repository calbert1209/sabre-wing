(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();var ot,f,Bt,Kt,O,Pt,Gt,ht,Jt,L={},Qt=[],ke=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,rt=Array.isArray;function Z(e,t){for(var n in t)e[n]=t[n];return e}function Xt(e){var t=e.parentNode;t&&t.removeChild(e)}function vt(e,t,n){var i,o,r,s={};for(r in t)r=="key"?i=t[r]:r=="ref"?o=t[r]:s[r]=t[r];if(arguments.length>2&&(s.children=arguments.length>3?ot.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)s[r]===void 0&&(s[r]=e.defaultProps[r]);return G(e,s,i,o,null)}function G(e,t,n,i,o){var r={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++Bt,__i:-1,__u:0};return o==null&&f.vnode!=null&&f.vnode(r),r}function E(e){return e.children}function N(e,t){this.props=e,this.context=t}function D(e,t){if(t==null)return e.__?D(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?D(e):null}function Yt(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Yt(e)}}function pt(e){(!e.__d&&(e.__d=!0)&&O.push(e)&&!X.__r++||Pt!==f.debounceRendering)&&((Pt=f.debounceRendering)||Gt)(X)}function X(){var e,t,n,i,o,r,s,l,u;for(O.sort(ht);e=O.shift();)e.__d&&(t=O.length,i=void 0,r=(o=(n=e).__v).__e,l=[],u=[],(s=n.__P)&&((i=Z({},o)).__v=o.__v+1,f.vnode&&f.vnode(i),gt(s,i,o,n.__n,s.ownerSVGElement!==void 0,32&o.__u?[r]:null,l,r??D(o),!!(32&o.__u),u),i.__.__k[i.__i]=i,ne(l,i,u),i.__e!=r&&Yt(i)),O.length>t&&O.sort(ht));X.__r=0}function te(e,t,n,i,o,r,s,l,u,a,v){var _,q,h,m,C,y=i&&i.__k||Qt,p=t.length;for(n.__d=u,Se(n,t,y),u=n.__d,_=0;_<p;_++)(h=n.__k[_])!=null&&typeof h!="boolean"&&typeof h!="function"&&(q=h.__i===-1?L:y[h.__i]||L,h.__i=_,gt(e,h,q,o,r,s,l,u,a,v),m=h.__e,h.ref&&q.ref!=h.ref&&(q.ref&&Tt(q.ref,null,h),v.push(h.ref,h.__c||m,h)),C==null&&m!=null&&(C=m),65536&h.__u||q.__k===h.__k?u=ee(h,u,e):typeof h.type=="function"&&h.__d!==void 0?u=h.__d:m&&(u=m.nextSibling),h.__d=void 0,h.__u&=-196609);n.__d=u,n.__e=C}function Se(e,t,n){var i,o,r,s,l,u=t.length,a=n.length,v=a,_=0;for(e.__k=[],i=0;i<u;i++)(o=e.__k[i]=(o=t[i])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?G(null,o,null,null,o):rt(o)?G(E,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?G(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,l=we(o,n,s=i+_,v),o.__i=l,r=null,l!==-1&&(v--,(r=n[l])&&(r.__u|=131072)),r==null||r.__v===null?(l==-1&&_--,typeof o.type!="function"&&(o.__u|=65536)):l!==s&&(l===s+1?_++:l>s?v>u-s?_+=l-s:_--:_=l<s&&l==s-1?l-s:0,l!==i+_&&(o.__u|=65536))):(r=n[i])&&r.key==null&&r.__e&&(r.__e==e.__d&&(e.__d=D(r)),dt(r,r,!1),n[i]=null,v--);if(v)for(i=0;i<a;i++)(r=n[i])!=null&&!(131072&r.__u)&&(r.__e==e.__d&&(e.__d=D(r)),dt(r,r))}function ee(e,t,n){var i,o;if(typeof e.type=="function"){for(i=e.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=e,t=ee(i[o],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function Y(e,t){return t=t||[],e==null||typeof e=="boolean"||(rt(e)?e.some(function(n){Y(n,t)}):t.push(e)),t}function we(e,t,n,i){var o=e.key,r=e.type,s=n-1,l=n+1,u=t[n];if(u===null||u&&o==u.key&&r===u.type)return n;if(i>(u!=null&&!(131072&u.__u)?1:0))for(;s>=0||l<t.length;){if(s>=0){if((u=t[s])&&!(131072&u.__u)&&o==u.key&&r===u.type)return s;s--}if(l<t.length){if((u=t[l])&&!(131072&u.__u)&&o==u.key&&r===u.type)return l;l++}}return-1}function Ct(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||ke.test(t)?n:n+"px"}function B(e,t,n,i,o){var r;t:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||Ct(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||Ct(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")r=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?i?n.u=i.u:(n.u=Date.now(),e.addEventListener(t,r?xt:Nt,r)):e.removeEventListener(t,r?xt:Nt,r);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Nt(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(f.event?f.event(e):e)}function xt(e){return this.l[e.type+!0](f.event?f.event(e):e)}function gt(e,t,n,i,o,r,s,l,u,a){var v,_,q,h,m,C,y,p,g,H,I,U,$t,j,ut,S=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),r=[l=t.__e=n.__e]),(v=f.__b)&&v(t);t:if(typeof S=="function")try{if(p=t.props,g=(v=S.contextType)&&i[v.__c],H=v?g?g.props.value:v.__:i,n.__c?y=(_=t.__c=n.__c).__=_.__E:("prototype"in S&&S.prototype.render?t.__c=_=new S(p,H):(t.__c=_=new N(p,H),_.constructor=S,_.render=Pe),g&&g.sub(_),_.props=p,_.state||(_.state={}),_.context=H,_.__n=i,q=_.__d=!0,_.__h=[],_._sb=[]),_.__s==null&&(_.__s=_.state),S.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=Z({},_.__s)),Z(_.__s,S.getDerivedStateFromProps(p,_.__s))),h=_.props,m=_.state,_.__v=t,q)S.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(S.getDerivedStateFromProps==null&&p!==h&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(p,H),!_.__e&&(_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(p,_.__s,H)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(_.props=p,_.state=_.__s,_.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(z){z&&(z.__=t)}),I=0;I<_._sb.length;I++)_.__h.push(_._sb[I]);_._sb=[],_.__h.length&&s.push(_);break t}_.componentWillUpdate!=null&&_.componentWillUpdate(p,_.__s,H),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(h,m,C)})}if(_.context=H,_.props=p,_.__P=e,_.__e=!1,U=f.__r,$t=0,"prototype"in S&&S.prototype.render){for(_.state=_.__s,_.__d=!1,U&&U(t),v=_.render(_.props,_.state,_.context),j=0;j<_._sb.length;j++)_.__h.push(_._sb[j]);_._sb=[]}else do _.__d=!1,U&&U(t),v=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++$t<25);_.state=_.__s,_.getChildContext!=null&&(i=Z(Z({},i),_.getChildContext())),q||_.getSnapshotBeforeUpdate==null||(C=_.getSnapshotBeforeUpdate(h,m)),te(e,rt(ut=v!=null&&v.type===E&&v.key==null?v.props.children:v)?ut:[ut],t,n,i,o,r,s,l,u,a),_.base=t.__e,t.__u&=-161,_.__h.length&&s.push(_),y&&(_.__E=_.__=null)}catch(z){t.__v=null,u||r!=null?(t.__e=l,t.__u|=u?160:32,r[r.indexOf(l)]=null):(t.__e=n.__e,t.__k=n.__k),f.__e(z,t,n)}else r==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=$e(n.__e,t,n,i,o,r,s,u,a);(v=f.diffed)&&v(t)}function ne(e,t,n){t.__d=void 0;for(var i=0;i<n.length;i++)Tt(n[i],n[++i],n[++i]);f.__c&&f.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(r){r.call(o)})}catch(r){f.__e(r,o.__v)}})}function $e(e,t,n,i,o,r,s,l,u){var a,v,_,q,h,m,C,y=n.props,p=t.props,g=t.type;if(g==="svg"&&(o=!0),r!=null){for(a=0;a<r.length;a++)if((h=r[a])&&"setAttribute"in h==!!g&&(g?h.localName===g:h.nodeType===3)){e=h,r[a]=null;break}}if(e==null){if(g===null)return document.createTextNode(p);e=o?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,p.is&&p),r=null,l=!1}if(g===null)y===p||l&&e.data===p||(e.data=p);else{if(r=r&&ot.call(e.childNodes),y=n.props||L,!l&&r!=null)for(y={},a=0;a<e.attributes.length;a++)y[(h=e.attributes[a]).name]=h.value;for(a in y)h=y[a],a=="children"||(a=="dangerouslySetInnerHTML"?_=h:a==="key"||a in p||B(e,a,null,h,o));for(a in p)h=p[a],a=="children"?q=h:a=="dangerouslySetInnerHTML"?v=h:a=="value"?m=h:a=="checked"?C=h:a==="key"||l&&typeof h!="function"||y[a]===h||B(e,a,h,y[a],o);if(v)l||_&&(v.__html===_.__html||v.__html===e.innerHTML)||(e.innerHTML=v.__html),t.__k=[];else if(_&&(e.innerHTML=""),te(e,rt(q)?q:[q],t,n,i,o&&g!=="foreignObject",r,s,r?r[0]:n.__k&&D(n,0),l,u),r!=null)for(a=r.length;a--;)r[a]!=null&&Xt(r[a]);l||(a="value",m!==void 0&&(m!==e[a]||g==="progress"&&!m||g==="option"&&m!==y[a])&&B(e,a,m,y[a],!1),a="checked",C!==void 0&&C!==e[a]&&B(e,a,C,y[a],!1))}return e}function Tt(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(i){f.__e(i,n)}}function dt(e,t,n){var i,o;if(f.unmount&&f.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||Tt(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){f.__e(r,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&dt(i[o],t,n||typeof e.type!="function");n||e.__e==null||Xt(e.__e),e.__=e.__e=e.__d=void 0}function Pe(e,t,n){return this.constructor(e,n)}function Ce(e,t,n){var i,o,r,s;f.__&&f.__(e,t),o=(i=typeof n=="function")?null:n&&n.__k||t.__k,r=[],s=[],gt(t,e=(!i&&n||t).__k=vt(E,null,[e]),o||L,L,t.ownerSVGElement!==void 0,!i&&n?[n]:o?null:t.firstChild?ot.call(t.childNodes):null,r,!i&&n?n:o?o.__e:t.firstChild,i,s),ne(r,e,s)}function ie(e,t){var n={__c:t="__cC"+Jt++,__:e,Consumer:function(i,o){return i.children(o)},Provider:function(i){var o,r;return this.getChildContext||(o=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&o.some(function(l){l.__e=!0,pt(l)})},this.sub=function(s){o.push(s);var l=s.componentWillUnmount;s.componentWillUnmount=function(){o.splice(o.indexOf(s),1),l&&l.call(s)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}ot=Qt.slice,f={__e:function(e,t,n,i){for(var o,r,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((r=o.constructor)&&r.getDerivedStateFromError!=null&&(o.setState(r.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,i||{}),s=o.__d),s)return o.__E=o}catch(l){e=l}throw e}},Bt=0,Kt=function(e){return e!=null&&e.constructor==null},N.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Z({},this.state),typeof e=="function"&&(e=e(Z({},n),this.props)),e&&Z(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),pt(this))},N.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),pt(this))},N.prototype.render=E,O=[],Gt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ht=function(e,t){return e.__v.__b-t.__v.__b},X.__r=0,Jt=0;var W,b,at,Ht,tt=0,oe=[],J=[],Zt=f.__b,Et=f.__r,Mt=f.diffed,Ot=f.__c,Vt=f.unmount;function bt(e,t){f.__h&&f.__h(b,e,tt||t),tt=0;var n=b.__H||(b.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:J}),n.__[e]}function Ne(e,t){var n=bt(W++,3);!f.__s&&se(n.__H,t)&&(n.__=e,n.i=t,b.__H.__h.push(n))}function xe(e){return tt=5,x(function(){return{current:e}},[])}function x(e,t){var n=bt(W++,7);return se(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function k(e,t){return tt=8,x(function(){return e},t)}function re(e){var t=b.context[e.__c],n=bt(W++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(b)),t.props.value):e.__}function He(){for(var e;e=oe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Q),e.__H.__h.forEach(mt),e.__H.__h=[]}catch(t){e.__H.__h=[],f.__e(t,e.__v)}}f.__b=function(e){b=null,Zt&&Zt(e)},f.__r=function(e){Et&&Et(e),W=0;var t=(b=e.__c).__H;t&&(at===b?(t.__h=[],b.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=J,n.__N=n.i=void 0})):(t.__h.forEach(Q),t.__h.forEach(mt),t.__h=[],W=0)),at=b},f.diffed=function(e){Mt&&Mt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(oe.push(t)!==1&&Ht===f.requestAnimationFrame||((Ht=f.requestAnimationFrame)||Ze)(He)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==J&&(n.__=n.__V),n.i=void 0,n.__V=J})),at=b=null},f.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Q),n.__h=n.__h.filter(function(i){return!i.__||mt(i)})}catch(i){t.some(function(o){o.__h&&(o.__h=[])}),t=[],f.__e(i,n.__v)}}),Ot&&Ot(e,t)},f.unmount=function(e){Vt&&Vt(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Q(i)}catch(o){t=o}}),n.__H=void 0,t&&f.__e(t,n.__v))};var Dt=typeof requestAnimationFrame=="function";function Ze(e){var t,n=function(){clearTimeout(i),Dt&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);Dt&&(t=requestAnimationFrame(n))}function Q(e){var t=b,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),b=t}function mt(e){var t=b;e.__c=e.__(),b=t}function se(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function Ee(e,t){for(var n in t)e[n]=t[n];return e}function At(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function Ut(e){this.props=e}(Ut.prototype=new N).isPureReactComponent=!0,Ut.prototype.shouldComponentUpdate=function(e,t){return At(this.props,e)||At(this.state,t)};var Rt=f.__b;f.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Rt&&Rt(e)};var Me=f.__e;f.__e=function(e,t,n,i){if(e.then){for(var o,r=t;r=r.__;)if((o=r.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}Me(e,t,n,i)};var Lt=f.unmount;function _e(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=Ee({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return _e(i,t,n)})),e}function le(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return le(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function ct(){this.__u=0,this.t=null,this.__b=null}function ue(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function K(){this.u=null,this.o=null}f.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Lt&&Lt(e)},(ct.prototype=new N).__c=function(e,t){var n=t.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var o=ue(i.__v),r=!1,s=function(){r||(r=!0,n.__R=null,o?o(l):l())};n.__R=s;var l=function(){if(!--i.__u){if(i.state.__a){var u=i.state.__a;i.__v.__k[0]=le(u,u.__c.__P,u.__c.__O)}var a;for(i.setState({__a:i.__b=null});a=i.t.pop();)a.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(s,s)},ct.prototype.componentWillUnmount=function(){this.t=[]},ct.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=_e(this.__b,n,i.__O=i.__P)}this.__b=null}var o=t.__a&&vt(E,null,e.fallback);return o&&(o.__u&=-33),[vt(E,null,t.__a?null:e.children),o]};var Wt=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(K.prototype=new N).__a=function(e){var t=this,n=ue(t.__v),i=t.o.get(e);return i[0]++,function(o){var r=function(){t.props.revealOrder?(i.push(o),Wt(t,e,i)):o()};n?n(r):r()}},K.prototype.render=function(e){this.u=null,this.o=new Map;var t=Y(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},K.prototype.componentDidUpdate=K.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){Wt(e,n,t)})};var Oe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ve=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,De=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ae=/[A-Z0-9]/g,Ue=typeof document<"u",Re=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};N.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(N.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Ft=f.event;function Le(){}function We(){return this.cancelBubble}function Fe(){return this.defaultPrevented}f.event=function(e){return Ft&&(e=Ft(e)),e.persist=Le,e.isPropagationStopped=We,e.isDefaultPrevented=Fe,e.nativeEvent=e};var Ie={enumerable:!1,configurable:!0,get:function(){return this.class}},It=f.vnode;f.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,i=t.type,o={};for(var r in n){var s=n[r];if(!(r==="value"&&"defaultValue"in n&&s==null||Ue&&r==="children"&&i==="noscript"||r==="class"||r==="className")){var l=r.toLowerCase();r==="defaultValue"&&"value"in n&&n.value==null?r="value":r==="download"&&s===!0?s="":l==="ondoubleclick"?r="ondblclick":l!=="onchange"||i!=="input"&&i!=="textarea"||Re(n.type)?l==="onfocus"?r="onfocusin":l==="onblur"?r="onfocusout":De.test(r)?r=l:i.indexOf("-")===-1&&Ve.test(r)?r=r.replace(Ae,"-$&").toLowerCase():s===null&&(s=void 0):l=r="oninput",l==="oninput"&&o[r=l]&&(r="oninputCapture"),o[r]=s}}i=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=Y(n.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),i=="select"&&o.defaultValue!=null&&(o.value=Y(n.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",Ie)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=Oe,It&&It(e)};var jt=f.__r;f.__r=function(e){jt&&jt(e),e.__c};var zt=f.diffed;f.diffed=function(e){zt&&zt(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};var je=0;function c(e,t,n,i,o,r){var s,l,u={};for(l in t)l=="ref"?s=t[l]:u[l]=t[l];var a={type:e,props:u,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--je,__i:-1,__u:0,__source:o,__self:r};if(typeof e=="function"&&(s=e.defaultProps))for(l in s)u[l]===void 0&&(u[l]=s[l]);return f.vnode&&f.vnode(a),a}function et({icon:e,initialValue:t=0,onChange:n,readOnly:i}){const o=k(s=>{const u=s.target.value||"0";n==null||n(parseInt(u,10))},[]),r=k(s=>{s.key==="Enter"&&s.preventDefault()},[]);return c(E,{children:[c("label",{className:"number-input__label",children:c(e,{})}),c("input",{className:"number-input__input",type:"number",value:t,onChange:o,readOnly:i,onKeyDown:r,onKeyUp:r})]})}function st(){throw new Error("Cycle detected")}var ze=Symbol.for("preact-signals");function qt(){if(V>1)V--;else{for(var e,t=!1;R!==void 0;){var n=R;for(R=void 0,yt++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&ce(n))try{n.c()}catch(o){t||(e=o,t=!0)}n=i}}if(yt=0,V--,t)throw e}}var d=void 0,R=void 0,V=0,yt=0,nt=0;function ae(e){if(d!==void 0){var t=e.n;if(t===void 0||t.t!==d)return t={i:0,S:e,p:d.s,n:void 0,t:d,e:void 0,x:void 0,r:t},d.s!==void 0&&(d.s.n=t),d.s=t,e.n=t,32&d.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=d.s,t.n=void 0,d.s.n=t,d.s=t),t}}function T(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}T.prototype.brand=ze;T.prototype.h=function(){return!0};T.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};T.prototype.U=function(e){if(this.t!==void 0){var t=e.e,n=e.x;t!==void 0&&(t.x=n,e.e=void 0),n!==void 0&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}};T.prototype.subscribe=function(e){var t=this;return St(function(){var n=t.value,i=32&this.f;this.f&=-33;try{e(n)}finally{this.f|=i}})};T.prototype.valueOf=function(){return this.value};T.prototype.toString=function(){return this.value+""};T.prototype.toJSON=function(){return this.value};T.prototype.peek=function(){return this.v};Object.defineProperty(T.prototype,"value",{get:function(){var e=ae(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(d instanceof M&&function(){throw new Error("Computed cannot have side-effects")}(),e!==this.v){yt>100&&st(),this.v=e,this.i++,nt++,V++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{qt()}}}});function w(e){return new T(e)}function ce(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function fe(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function he(e){for(var t=e.s,n=void 0;t!==void 0;){var i=t.p;t.i===-1?(t.S.U(t),i!==void 0&&(i.n=t.n),t.n!==void 0&&(t.n.p=i)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=i}e.s=n}function M(e){T.call(this,void 0),this.x=e,this.s=void 0,this.g=nt-1,this.f=4}(M.prototype=new T).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===nt))return!0;if(this.g=nt,this.f|=1,this.i>0&&!ce(this))return this.f&=-2,!0;var e=d;try{fe(this),d=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return d=e,he(this),this.f&=-2,!0};M.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}T.prototype.S.call(this,e)};M.prototype.U=function(e){if(this.t!==void 0&&(T.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};M.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};M.prototype.peek=function(){if(this.h()||st(),16&this.f)throw this.v;return this.v};Object.defineProperty(M.prototype,"value",{get:function(){1&this.f&&st();var e=ae(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function _t(e){return new M(e)}function ve(e){var t=e.u;if(e.u=void 0,typeof t=="function"){V++;var n=d;d=void 0;try{t()}catch(i){throw e.f&=-2,e.f|=8,kt(e),i}finally{d=n,qt()}}}function kt(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,ve(e)}function Be(e){if(d!==this)throw new Error("Out-of-order effect");he(this),d=e,this.f&=-2,8&this.f&&kt(this),qt()}function F(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}F.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};F.prototype.S=function(){1&this.f&&st(),this.f|=1,this.f&=-9,ve(this),fe(this),V++;var e=d;return d=this,Be.bind(this,e)};F.prototype.N=function(){2&this.f||(this.f|=2,this.o=R,R=this)};F.prototype.d=function(){this.f|=8,1&this.f||kt(this)};function St(e){var t=new F(e);try{t.c()}catch(n){throw t.d(),n}return t.d.bind(t)}var lt,ft;function A(e,t){f[e]=t.bind(null,f[e]||function(){})}function it(e){ft&&ft(),ft=e&&e.S()}function pe(e){var t=this,n=e.data,i=Ge(n);i.value=n;var o=x(function(){for(var r=t.__v;r=r.__;)if(r.__c){r.__c.__$f|=4;break}return t.__$u.c=function(){var s;!Kt(o.peek())&&((s=t.base)==null?void 0:s.nodeType)===3?t.base.data=o.peek():(t.__$f|=1,t.setState({}))},_t(function(){var s=i.value.value;return s===0?0:s===!0?"":s||""})},[]);return o.value}pe.displayName="_st";Object.defineProperties(T.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:pe},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});A("__b",function(e,t){if(typeof t.type=="string"){var n,i=t.props;for(var o in i)if(o!=="children"){var r=i[o];r instanceof T&&(n||(t.__np=n={}),n[o]=r,i[o]=r.peek())}}e(t)});A("__r",function(e,t){it();var n,i=t.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=function(o){var r;return St(function(){r=this}),r.c=function(){i.__$f|=1,i.setState({})},r}())),lt=i,it(n),e(t)});A("__e",function(e,t,n,i){it(),lt=void 0,e(t,n,i)});A("diffed",function(e,t){it(),lt=void 0;var n;if(typeof t.type=="string"&&(n=t.__e)){var i=t.__np,o=t.props;if(i){var r=n.U;if(r)for(var s in r){var l=r[s];l!==void 0&&!(s in i)&&(l.d(),r[s]=void 0)}else n.U=r={};for(var u in i){var a=r[u],v=i[u];a===void 0?(a=Ke(n,u,v,o),r[u]=a):a.o(v,o)}}}e(t)});function Ke(e,t,n,i){var o=t in e&&e.ownerSVGElement===void 0,r=w(n);return{o:function(s,l){r.value=s,i=l},d:St(function(){var s=r.value.value;i[t]!==s&&(i[t]=s,o?e[t]=s:s?e.setAttribute(t,s):e.removeAttribute(t))})}}A("unmount",function(e,t){if(typeof t.type=="string"){var n=t.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var o in i){var r=i[o];r&&r.d()}}}}else{var s=t.__c;if(s){var l=s.__$u;l&&(s.__$u=void 0,l.d())}}e(t)});A("__h",function(e,t,n,i){(i<3||i===9)&&(t.__$f|=2),e(t,n,i)});N.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var i in t)return!0;for(var o in e)if(o!=="__source"&&e[o]!==this.props[o])return!0;for(var r in this.props)if(!(r in e))return!0;return!1};function Ge(e){return x(function(){return w(e)},[])}function Je(e){var t=xe(e);return t.current=e,lt.__$f|=4,x(function(){return _t(function(){return t.current()})},[])}class de{constructor(){this._mode=w("setup")}get mode(){return _t(()=>this._mode.value)}setMode(t){this._mode.value=t}}const me=ie(new de);function Qe(e){const t=x(()=>new de,[]);return me.Provider({value:t,...e})}function wt(){const e=re(me);if(!e)throw new Error("Context not found: AppStateContext");return e}class Xe{constructor(t){this.signal=w(t)}splice(t,n,...i){const o=[...this.signal.value];o.splice(t,n,...i),this.signal.value=o}push(t){const n=[...this.signal.value];n.push(t),this.signal.value=n}map(t){const n=[...this.signal.value].map(t);this.signal.value=n}}class ye{constructor(t){this.dose=w(t.dose),this.steps=new Xe(t.steps),this.initialState=t,this.linked=w(!1)}get totalWaterVolume(){return _t(()=>this.steps.signal.value.reduce((t,n)=>t+n.water,0))}reset(){const{dose:t,steps:n}=this.initialState;this.dose.value=t;const i=this.steps.signal.value.length;this.steps.splice(0,i,...n)}scaleVolume(t){if(t<=0)return;const n=t/this.dose.value;this.steps.map(({time:i,water:o})=>({time:i,water:Math.round(n*o)}))}setDose(t){this.linked.value&&this.scaleVolume(t),this.dose.value=t}toggleLinked(){this.linked.value=!this.linked.value}addStep(t){this.steps.push(t)}deleteStep(t){this.steps.splice(t,1)}updateStep(t,n,i){const o={...this.steps.signal.value[t],[n]:i};this.steps.splice(t,1,o)}}const ge=ie(new ye({dose:20,steps:[{time:30,water:60},{time:30,water:90},{time:30,water:100},{time:30,water:100}]}));function Ye(e){const t=x(()=>new ye({dose:20,steps:[{time:30,water:60},{time:30,water:90},{time:30,water:100},{time:30,water:100}]}),[]);return ge.Provider({value:t,...e})}function Te(){const e=re(ge);if(!e)throw new Error("Context not found: RecipeStateContext");return e}const tn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960"};function $(e){return function(t){return c("svg",{...tn,...t,children:c("path",{d:e})})}}const P={AddSetting:"M560-280H120v-400h720v120h-80v-40H200v240h360v80Zm-360-80v-240 240Zm560 200v-120H640v-80h120v-120h80v120h120v80H840v120h-80Z",CoffeeMaker:"M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h560v80h-80v80q0 17-11.5 28.5T680-680H360q-17 0-28.5-11.5T320-720v-80h-80v640h162q-38-27-60-68.5T320-320v-200h400v200q0 50-22 91.5T638-160h162v80H240Zm280-120q50 0 85-35t35-85v-120H400v120q0 50 35 85t85 35Zm0-360q17 0 28.5-11.5T560-600q0-17-11.5-28.5T520-640q-17 0-28.5 11.5T480-600q0 17 11.5 28.5T520-560Zm0 120Z",Dose:"M480-80q-137 0-228.5-94T160-408h80q0 107 68 177.5T480-160q104 0 172-70.5T720-408h80q0 140-91.5 234T480-80ZM200-480q-17 0-28.5-11.5T160-520q0-17 11.5-28.5T200-560q17 0 28.5 11.5T240-520q0 17-11.5 28.5T200-480Zm180 0q-17 0-28.5-11.5T340-520q0-17 11.5-28.5T380-560q17 0 28.5 11.5T420-520q0 17-11.5 28.5T380-480Zm200 0q-17 0-28.5-11.5T540-520q0-17 11.5-28.5T580-560q17 0 28.5 11.5T620-520q0 17-11.5 28.5T580-480Zm180 0q-17 0-28.5-11.5T720-520q0-17 11.5-28.5T760-560q17 0 28.5 11.5T800-520q0 17-11.5 28.5T760-480ZM290-590q-17 0-28.5-11.5T250-630q0-17 11.5-28.5T290-670q17 0 28.5 11.5T330-630q0 17-11.5 28.5T290-590Zm380 0q-17 0-28.5-11.5T630-630q0-17 11.5-28.5T670-670q17 0 28.5 11.5T710-630q0 17-11.5 28.5T670-590Zm-190-10q-17 0-28.5-11.5T440-640q0-17 11.5-28.5T480-680q17 0 28.5 11.5T520-640q0 17-11.5 28.5T480-600ZM380-700q-17 0-28.5-11.5T340-740q0-17 11.5-28.5T380-780q17 0 28.5 11.5T420-740q0 17-11.5 28.5T380-700Zm200 0q-17 0-28.5-11.5T540-740q0-17 11.5-28.5T580-780q17 0 28.5 11.5T620-740q0 17-11.5 28.5T580-700ZM480-800q-17 0-28.5-11.5T440-840q0-17 11.5-28.5T480-880q17 0 28.5 11.5T520-840q0 17-11.5 28.5T480-800Zm0 392Z",Link:"M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z",Pause:"M560-200v-560h160v560H560Zm-320 0v-560h160v560H240Z",Pill:"M345-120q-94 0-159.5-65.5T120-345q0-45 17-86t49-73l270-270q32-32 73-49t86-17q94 0 159.5 65.5T840-615q0 45-17 86t-49 73L504-186q-32 32-73 49t-86 17Zm266-286 107-106q20-20 31-47t11-56q0-60-42.5-102.5T615-760q-29 0-56 11t-47 31L406-611l205 205ZM345-200q29 0 56-11t47-31l106-107-205-205-107 106q-20 20-31 47t-11 56q0 60 42.5 102.5T345-200Z",Play:"M320-200v-560l440 280-440 280Z",RemoveSetting:"M560-280H120v-400h720v120h-80v-40H200v240h360v80Zm-360-80v-240 240Zm440 104 84-84-84-84 56-56 84 84 84-84 56 56-83 84 83 84-56 56-84-83-84 83-56-56Z",Reset:"M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z",Timer:"M360-840v-80h240v80H360Zm80 440h80v-240h-80v240Zm40 320q-74 0-139.5-28.5T226-186q-49-49-77.5-114.5T120-440q0-74 28.5-139.5T226-694q49-49 114.5-77.5T480-800q62 0 119 20t107 58l56-56 56 56-56 56q38 50 58 107t20 119q0 74-28.5 139.5T734-186q-49 49-114.5 77.5T480-80Zm0-80q116 0 198-82t82-198q0-116-82-198t-198-82q-116 0-198 82t-82 198q0 116 82 198t198 82Zm0-280Z",Tune:"M440-120v-240h80v80h320v80H520v80h-80Zm-320-80v-80h240v80H120Zm160-160v-80H120v-80h160v-80h80v240h-80Zm160-80v-80h400v80H440Zm160-160v-240h80v80h160v80H680v80h-80Zm-480-80v-80h400v80H120Z",Undo:"M280-200v-80h284q63 0 109.5-40T720-420q0-60-46.5-100T564-560H312l104 104-56 56-200-200 200-200 56 56-104 104h252q97 0 166.5 63T800-420q0 94-69.5 157T564-200H280Z",Unlink:"m770-302-60-62q40-11 65-42.5t25-73.5q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 57-29.5 105T770-302ZM634-440l-80-80h86v80h-6ZM792-56 56-792l56-56 736 736-56 56ZM440-280H280q-83 0-141.5-58.5T80-480q0-69 42-123t108-71l74 74h-24q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h65l79 80H320Z",WaterDrop:"M491-200q12-1 20.5-9.5T520-230q0-14-9-22.5t-23-7.5q-41 3-87-22.5T343-375q-2-11-10.5-18t-19.5-7q-14 0-23 10.5t-6 24.5q17 91 80 130t127 35ZM480-80q-137 0-228.5-94T160-408q0-100 79.5-217.5T480-880q161 137 240.5 254.5T800-408q0 140-91.5 234T480-80Zm0-80q104 0 172-70.5T720-408q0-73-60.5-165T480-774Q361-665 300.5-573T240-408q0 107 68 177.5T480-160Zm0-320Z"},en=$(P.AddSetting),nn=$(P.CoffeeMaker),on=$(P.Dose),rn=$(P.Link),sn=$(P.Pause),_n=$(P.Play),be=$(P.Reset),ln=$(P.RemoveSetting),un=$(P.Timer),an=$(P.Tune),cn=$(P.Unlink),qe=$(P.WaterDrop);function fn({stepIndex:e,time:t,water:n,onChange:i,onDelete:o}){const r=(l,u)=>{i(e,l,u)},s=k(l=>{l.preventDefault(),o(e)},[e]);return c("fieldset",{className:"settings__fieldset",children:[c(et,{icon:un,initialValue:t,onChange:l=>r("time",l),readOnly:!0}),c(et,{icon:qe,initialValue:n,onChange:l=>r("water",l)}),c("button",{className:"settings__delete-button",onClick:s,children:c(ln,{})})]})}function hn({totalWaterVolume:e,dose:t,onChangeDose:n,onClickLink:i,linked:o}){const r=k(s=>{s.preventDefault(),i==null||i()},[]);return c("fieldset",{className:"settings__fieldset",children:[c(et,{icon:on,initialValue:t,onChange:n}),c("button",{className:"settings__link-toggle",onClick:r,"data-linked":o??!1,children:o?c(rn,{}):c(cn,{})}),c(et,{icon:qe,initialValue:e,readOnly:!0})]})}function vn(){const e=Te(),t=wt(),n=k(()=>e.toggleLinked(),[]);k(u=>e.setDose(u),[]);const i=k(u=>{u.preventDefault(),e.reset()},[]),o=k(u=>{u.preventDefault(),e.addStep({time:30,water:50})},[]),r=k((...u)=>e.updateStep(...u),[]),s=k(u=>e.deleteStep(u),[]),l=k(u=>{u.preventDefault(),t.setMode("pour")},[]);return c("section",{children:c("form",{children:[c("header",{className:"settings__header",children:[c("button",{className:"settings__reset-button",onClick:i,children:c(be,{className:"settings__reset-button-icon"})}),c("button",{className:"settings__action-button",onClick:l,children:c(nn,{className:"settings__icon"})})]}),c(hn,{totalWaterVolume:e.totalWaterVolume.value,dose:e.dose,onChangeDose:u=>e.setDose(u),onClickLink:n,linked:e.linked.value}),c("div",{className:"settings__right-align",children:c("button",{className:"settings__action-button",onClick:o,children:c(en,{className:"settings__icon"})})}),c("div",{className:"settings__step-list",children:e.steps.signal.value.map(({time:u,water:a},v)=>c(fn,{stepIndex:v,water:a,time:u,onChange:r,onDelete:s},`item-${v}`))})]})})}class pn extends EventTarget{constructor(t=1e3){super(),this._value=0,this._running=!1,this.interval=-1,this.tick=t}get running(){return this._running}get value(){return this._value}start(){const t=this;t._running=!0,t.interval=window.setInterval(()=>{if(!t.running){window.clearInterval(t.interval);return}const n=new CustomEvent("tick",{detail:t._value});t._value+=1,t.dispatchEvent(n)},t.tick)}stop(){clearInterval(this.interval),this._running=!1}reset(){this.stop(),this._value=0}}function dn(e,t){if(t<0)return null;let n=t,i=0;for(let o=0;o<e.length;o++){if(e[o].time>=n)return{index:o,volumeStart:i,volumeEnd:i+e[o].water,stepTime:n,totalVolume:i+e[o].volumeAtTime(n)};n-=e[o].time,i+=e[o].water}return null}class mn{constructor(t,n){this.time=t,this.water=n}volumeAtTime(t){return this.water/this.time*t}}class yn{constructor(t,n=1e3){this.steps=t,this.clock=new pn(n),this.clock.addEventListener("tick",this.onTick.bind(this)),this.totalTime=w(0),this.stepTimeRemaining=w(t[0].time),this.totalVolume=w(0),this.volumeStart=w(0),this.volumeEnd=w(t[0].water);const[i,o]=t.reduce(([r,s],l)=>[r+l.time,s+l.water],[0,0]);this.targetTime=i,this.targetVolume=o,this.running=w(!1)}start(){this.clock.running||this.totalVolume.value>=this.targetVolume||(this.running.value=!0,this.clock.start())}stop(){this.running.value=!1,this.clock.stop()}togglePlay(){this.running.value?this.stop():this.start()}reset(){this.clock.reset(),this.totalTime.value=0,this.stepTimeRemaining.value=this.steps[0].time,this.totalVolume.value=0,this.volumeStart.value=0,this.volumeEnd.value=this.steps[0].water,this.running.value=!1}onTick(){this.totalTime.value=this.clock.value;const{index:t,volumeStart:n,volumeEnd:i,stepTime:o,totalVolume:r}=dn(this.steps,this.clock.value);this.stepTimeRemaining.value=this.steps[t].time-o,this.volumeStart.value=n,this.volumeEnd.value=i,this.totalVolume.value=r,(this.totalTime.value===this.targetTime||this.totalVolume.value===this.targetVolume)&&this.stop()}}function gn(e){const[t,n]=[Math.round(e.totalVolume),Math.ceil(e.end)],i=x(()=>{const o=e.totalVolume-e.start;return o<=0?0:o/(e.end-e.start)*100},[e.totalVolume,e.start,e.end]);return c(E,{children:[c("div",{className:"volume-display",children:[c("div",{className:"volume-display-number volume-display-primary",children:c("div",{children:t})}),c("div",{className:"volume-display-number volume-display-secondary volume-display-end",children:n})]}),c("div",{className:"volume-display__ramp-row",children:c("div",{className:"volume-display__ramp-container",children:c("div",{className:"volume-display__progress-indicator",style:{width:`${i}%`}})})})]})}function Tn({sec:e,running:t,size:n}){const i=Math.floor(e/60),o=(e%60).toString(10).padStart(2,"0");return c("div",{className:"time-display","data-running":!!t,"data-size":n??"secondary",children:[c("div",{className:"time-display-digits time-display-minutes",children:c("div",{children:i})}),c("div",{className:"time-display-colon",children:":"}),c("div",{className:"time-display-digits time-display-seconds",children:c("div",{children:o})})]})}function bn(){const e=wt(),t=Te(),n=Je(()=>t.steps.signal.value.map(({time:u,water:a})=>new mn(u,a))),i=x(()=>new yn(n.value,1e3),[n.value]);Ne(()=>()=>{i.stop()},[]);const o=k(()=>e.setMode("setup"),[]),r=k(()=>{i.togglePlay()},[]),s=k(()=>{i.reset()},[]),l=i.running.value?sn:_n;return c("section",{children:[c("header",{className:"pour__header",children:c("button",{className:"pour__tune-button",onClick:o,children:c(an,{className:"tune-button__icon"})})}),c(gn,{totalVolume:i.totalVolume.value,start:i.volumeStart.value,end:i.volumeEnd.value}),c(Tn,{sec:i.totalTime.value,running:i.running.value,size:"primary"}),c("footer",{className:"pour__footer",children:[c("button",{className:"play-control-action-button",onClick:r,children:c(l,{className:"play-control-button__icon"})}),c("button",{className:"pour__reset-button",onClick:s,children:c(be,{className:"pour__reset-button__icon"})})]})]})}function qn(){return wt().mode.value==="pour"?c(bn,{}):c(vn,{})}function kn(){return c(Qe,{children:c(Ye,{children:c("main",{children:c(qn,{})})})})}Ce(c(kn,{}),document.getElementById("app"));
